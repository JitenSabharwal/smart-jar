(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{313:function(e,t,a){e.exports=a(679)},679:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),l=a.n(i),o=a(255),c=a(681),s=a(682),m=a(683),u=a(32),d=a(25),p=a(26),h=a(28),g=a(27),f=a(29),E=a(17),b=a(76),y=a.n(b),C=a(5),v=a.n(C),O=a(110),N=a.n(O),j=a(112),w=a.n(j),P=a(111),k=a.n(P),S=a(114),D=a.n(S),A=a(35),x=a.n(A),T=a(247),F=a.n(T),R=a(20),I=a.n(R),M=a(113),_=a.n(M),B=a(106),L=a.n(B),q=a(107),Q=a.n(q),U=a(37),J=a.n(U),W=a(108),z=a.n(W),V=a(109),H=a.n(V),Y=a(50),G=a.n(Y),X=a(48),K=a.n(X),Z=a(36),$=a.n(Z),ee=a(164),te=a.n(ee),ae=a(166),ne=a.n(ae),re=a(165),ie=a.n(re),le=a(163),oe=a.n(le),ce=a(243),se=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,l=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement($.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===l.direction?r.a.createElement(oe.a,null):r.a.createElement(te.a,null)),r.a.createElement($.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===l.direction?r.a.createElement(ie.a,null):r.a.createElement(ne.a,null)),r.a.createElement($.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===l.direction?r.a.createElement(ne.a,null):r.a.createElement(ie.a,null)),r.a.createElement($.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===l.direction?r.a.createElement(te.a,null):r.a.createElement(oe.a,null)))}}]),t}(r.a.Component),me=Object(E.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(se),ue=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:5},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=t,i=this.state,l=i.rowsPerPage,o=i.page,c=l-Math.min(l,n.length-o*l);return r.a.createElement(K.a,{className:a.root},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(L.a,{className:a.table},r.a.createElement(ce.a,null,r.a.createElement(G.a,null,r.a.createElement(J.a,{component:"th",scope:"row"},"Quantity"),r.a.createElement(J.a,{align:"right"}," Time "))),r.a.createElement(Q.a,null,n.slice(o*l,o*l+l).map(function(e){return r.a.createElement(G.a,{key:e.timestamp},r.a.createElement(J.a,{component:"th",scope:"row"},e.quantity,"gm"),r.a.createElement(J.a,{align:"right"},new Date(e.timestamp).toLocaleString()))}),c>0&&r.a.createElement(G.a,{style:{height:48*c}},r.a.createElement(J.a,{colSpan:6}))),r.a.createElement(z.a,null,r.a.createElement(G.a,null,r.a.createElement(H.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:o,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:me}))))))}}]),t}(r.a.Component),de=Object(E.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:500},tableWrapper:{overflowX:"auto"}}})(ue),pe=a(78),he=a(116),ge=a.n(he),fe=a(244),Ee=a.n(fe),be=a(167),ye=a.n(be),Ce=a(245),ve=a.n(Ce);ye.a.fcRoot(ge.a,Ee.a);var Oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={timeseriesDs:{type:"timeseries",renderAt:"container",width:"600",height:"400",dataSource:{chart:{},caption:{text:"Smart Jar"},yAxis:[{plot:{value:"Jar Quantity Value",type:"column"},title:"Jar Quantity Value (in thousand)"}],data:{}}}},a.createDataTable=a.createDataTable.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"createDataTable",value:function(e){var t=e.reverse().map(function(e){return[ve()(e.timestamp).format("DD-MMM-YY"),e.quantity]}),a=(new ge.a.DataStore).createDataTable(t,[{name:"Time",type:"date",format:"%d-%b-%y"},{name:"Jar Quantity Value",type:"number"}]),n=Object.assign({},this.state.timeseriesDs);n.dataSource.data=a,this.setState({timeseriesDs:n})}},{key:"componentDidMount",value:function(){this.createDataTable(this.props.data)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ye.a,this.state.timeseriesDs))}}]),t}(n.Component),Ne=a(246),je=a.n(Ne);var we=Object(E.withStyles)(function(e){return{root:{width:"100%"},warning:{color:je.a[700]},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t=e.classes,a=e.item,n=e.refill,i=a||{},l=i.itemName,o=i.details,c=o[0],s=c.quantity<700?"warning":"root",m="warning"===s?"Please refill the container":"Enough Quantity in the container";return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,null,r.a.createElement(k.a,{expandIcon:r.a.createElement(F.a,null)},r.a.createElement("div",{className:t.column},r.a.createElement(x.a,{className:v()(t[s],t.heading)},l)),r.a.createElement("div",{className:t.column},r.a.createElement(x.a,{className:t.secondaryHeading},c.quantity,"gm"))),r.a.createElement(w.a,{className:t.details},r.a.createElement("div",{className:t.column},r.a.createElement(de,{data:o})),r.a.createElement("div",{className:v()(t.column,t.helper)},r.a.createElement(x.a,{variant:"caption",className:t[s]},m)),r.a.createElement("div",{className:t.column},r.a.createElement(Oe,{data:o}))),r.a.createElement(_.a,null),r.a.createElement(D.a,null,r.a.createElement(I.a,{size:"small",color:"primary",onClick:function(){return n(l)},disabled:"warning"!==s},"Refill"))))}),Pe=a(117),ke=a(49),Se=a.n(ke),De=a(58),Ae=a.n(De),xe=a(62),Te=a.n(xe),Fe=a(60),Re=a.n(Fe),Ie=a(61),Me=a.n(Ie),_e=a(59),Be=a.n(_e),Le=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={itemName:"",quantity:""},a.handleChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ae.a,{open:this.props.open,onClose:this.props.handleFormClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Be.a,{id:"form-dialog-title"},"Add / Change Item Quantity"),r.a.createElement(Re.a,null,r.a.createElement(Me.a,null,"To update or add new item in list enter the name and value in gm(max value 1000)."),r.a.createElement(Se.a,{autoFocus:!0,margin:"dense",id:"itemName",name:"itemName",label:"Item Name",type:"text",onChange:this.handleChange,fullWidth:!0}),r.a.createElement(Se.a,{margin:"dense",id:"quantity",label:"Quantity",name:"quantity",type:"number",max:1e3,onChange:this.handleChange,fullWidth:!0})),r.a.createElement(Te.a,null,r.a.createElement(I.a,{onClick:function(t){return e.props.handleFormClose(t)},color:"secondary"},"Cancel"),r.a.createElement(I.a,{disabled:!(this.state.quantity&&this.state.itemName),onClick:function(t){return e.props.handleFormClose(t,{itemName:e.state.itemName,quantity:e.state.quantity})},color:"primary"},"Update Value")))}}]),t}(r.a.Component),qe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={itemName:""},a.handleChange=function(e){a.setState(Object(Pe.a)({},e.target.name,e.target.value))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ae.a,{open:this.props.open,onClose:this.props.handleFormClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Be.a,{id:"form-dialog-title"},"Add / Change Item Quantity"),r.a.createElement(Re.a,null,r.a.createElement(Me.a,null,"To update or add new item in list enter the name and value in gm(max value 1000)."),r.a.createElement(Se.a,{autoFocus:!0,margin:"dense",id:"itemName",name:"itemName",label:"Item Name",type:"text",onChange:this.handleChange,fullWidth:!0})),r.a.createElement(Te.a,null,r.a.createElement(I.a,{onClick:function(t){return e.props.handleFormClose(t)},color:"secondary"},"Cancel"),r.a.createElement(I.a,{disabled:!this.state.itemName,onClick:function(t){return e.props.handleFormClose(t,{itemName:e.state.itemName})},color:"primary"},"Delete Container")))}}]),t}(r.a.Component),Qe=a(77),Ue=a.n(Qe),Je=a(248),We=a.n(Je),ze=a(249),Ve=a.n(ze),He=a(79),Ye=a.n(He),Ge=a(168),Xe="ADD_CONTAINER_REQUEST",Ke="ADD_CONTAINER_SUCCESS",Ze="ADD_CONTAINER_FAILURE",$e="UPDATE_CONTAINER_REQUEST",et="UPDATE_CONTAINER_SUCCESS",tt="UPDATE_CONTAINER_FAILURE",at="DELETE_CONTAINER",nt="DELETE_ALL_CONTAINERS",rt="SELECT_CONTAINER",it=a(169),lt=a.n(it),ot=function(){var e=localStorage.getItem("id_token");return{headers:{Authorization:e?"Bearer ".concat(e):""}}},ct=function(e,t){var a=ot();return lt.a.post(e,t,a)},st=function(e){return new Promise(function(t,a){(function(e,t){var a=ot();return lt.a.get(e,a)})(e).then(function(e){var n=e.data,r=n.success,i=n.data;if(!r)return a(e);t({container:{list:i||[]}})}).catch(function(e){a(new Error("Error: ",e))})})};function mt(e,t){return{type:t,isFetching:!0,payload:e}}function ut(e,t){return{type:t,isFetching:!0,payload:e}}function dt(e,t){return{type:t,isFetching:!0,payload:e}}var pt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,formOpen:!1,formDeleteOpen:!1},a.refill=function(e){a.props.addContainer(e,1e3)},a.handleModal=function(e,t){a.setState({formOpen:!a.state.formOpen}),t&&t.itemName&&t.quantity&&a.props.addContainer(t)},a.handleDeleteModal=function(e,t){a.setState({formDeleteOpen:!a.state.formDeleteOpen}),t&&t.itemName&&a.props.deleteContainer(t)},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.classes;return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{container:!0,spacing:16},a.map(function(t){return r.a.createElement(y.a,{item:!0,md:12,sm:12,xs:12,key:t.itemName},r.a.createElement(we,{item:t,refill:e.refill}))})),r.a.createElement(Ue.a,{color:"secondary",className:n.fabAdd,onClick:this.handleModal},r.a.createElement(We.a,null)),r.a.createElement(Ue.a,{color:"secondary",className:n.fabRemove,onClick:this.handleDeleteModal},r.a.createElement(Ve.a,null)),r.a.createElement(Le,{open:this.state.formOpen,handleFormClose:this.handleModal}),r.a.createElement(qe,{open:this.state.formDeleteOpen,handleFormClose:this.handleDeleteModal}))}}]),t}(r.a.Component),ht=Object(E.withStyles)(function(e){return{root:{flexGrow:1},paper:{width:"100%"},control:{padding:2*e.spacing.unit},fabAdd:{position:"fixed",bottom:5,right:5},fabRemove:{position:"fixed",bottom:5,right:100}}})(pt),gt=[{path:"/",name:"ContainerComponent",component:Object(u.connect)(function(e){return{selected:!!e.container.selected&&!!e.container.selected.name,list:e.container.list}},{addContainer:function(e){return function(t){return t(mt(e,Xe)),ct("/api/v1/containers/addContainer",e).then(function(e){var a=e.data,n=a.success,r=a.data,i=a.error;if(!n)return t(ut(i,Ze)),Promise.reject(r);t(dt(r,Ke))}).catch(Promise.reject)}},findContainer:function(e){return function(t){return t(mt(e,Xe)),ct("/api/v1/containers",e).then(function(e){var a=e.data,n=a.success,r=a.data,i=a.error;if(!n)return t(ut(i,Ze)),Promise.reject(r);t(dt(r,Ke))}).catch(Promise.reject)}},deleteContainer:function(e){var t=e.itemName;return function(){var e=Object(Ge.a)(Ye.a.mark(function e(a,n){var r,i;return Ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(n())),i=r.container.list.filter(function(e){return e.itemName!==t}),e.next=4,ct("".concat("/api/v1/containers/removeContainer","/").concat(t));case 4:a(dt(i,at));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}})(ht)}],ft=a(21),Et=a(250),bt=a.n(Et),yt=a(251),Ct={isFetching:!1,isEditing:!1,list:[]};var vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return Object.assign({},e,{isFetching:!0});case Ke:var a=e.list;return e.list.indexOf(t.payload.itemName)?a=a.map(function(e){return e.itemName===t.payload.itemName?t.payload:e}):a.push(t.payload),Object.assign({},e,{isFetching:!1,list:a});case Ze:case tt:return Object.assign({},e,{isFetching:!1,errorMessage:t.payload.errorMessage});case et:return Object.assign({},e,{isFetching:!1,list:t.payload});case $e:return Object.assign({},e,{isFetching:!0});case rt:return Object.assign({},e,{isFetching:!1,selected:t.payload});case at:return Object.assign({},e,{isFetching:!1,selected:{},list:t.payload});case nt:return Object.assign({},e,{isFetching:!1,selected:{},list:[]});default:return e}},Ot=a(252),Nt=Object(ft.combineReducers)({container:vt,form:Ot.reducer}),jt=a(253),wt=[yt.a,bt.a],Pt={},kt=Object(o.a)();st("/api/v1/containers").then(function(e){return Object(ft.createStore)(Nt,e,Object(jt.composeWithDevTools)(ft.applyMiddleware.apply(void 0,wt)))}).catch(function(e){return Object(ft.createStore)(Nt,Pt,ft.applyMiddleware.apply(void 0,wt))}).then(function(e){l.a.render(r.a.createElement(u.Provider,{store:e},r.a.createElement(c.a,{history:kt},r.a.createElement(s.a,null,gt.map(function(e,t){return r.a.createElement(m.a,{path:e.path,key:t,component:e.component})})))),document.getElementById("root"))})}},[[313,2,1]]]);
//# sourceMappingURL=main.2226f811.chunk.js.map