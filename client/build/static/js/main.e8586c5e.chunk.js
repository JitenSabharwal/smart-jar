(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{304:function(e,t,a){e.exports=a(661)},661:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),c=a.n(i),l=a(246),o=a(663),s=a(664),u=a(665),m=a(25),p=a(42),d=a(43),h=a(46),g=a(44),E=a(47),f=a(17),y=a(68),b=a.n(y),C=a(5),v=a.n(C),O=a(101),N=a.n(O),P=a(103),w=a.n(P),j=a(102),k=a.n(j),S=a(105),A=a.n(S),T=a(28),x=a.n(T),F=a(238),R=a.n(F),_=a(29),I=a.n(_),D=a(104),B=a.n(D),L=a(97),M=a.n(L),q=a(98),U=a.n(q),W=a(31),Q=a.n(W),z=a(99),H=a.n(z),J=a(100),G=a.n(J),V=a(45),X=a.n(V),K=a(40),Y=a.n(K),Z=a(30),$=a.n(Z),ee=a(158),te=a.n(ee),ae=a(160),ne=a.n(ae),re=a(159),ie=a.n(re),ce=a(157),le=a.n(ce),oe=a(236),se=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,c=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement($.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===c.direction?r.a.createElement(le.a,null):r.a.createElement(te.a,null)),r.a.createElement($.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===c.direction?r.a.createElement(ie.a,null):r.a.createElement(ne.a,null)),r.a.createElement($.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===c.direction?r.a.createElement(ne.a,null):r.a.createElement(ie.a,null)),r.a.createElement($.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===c.direction?r.a.createElement(te.a,null):r.a.createElement(le.a,null)))}}]),t}(r.a.Component),ue=Object(f.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(se),me=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,rowsPerPage:5},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=t,i=this.state,c=i.rowsPerPage,l=i.page,o=c-Math.min(c,n.length-l*c);return r.a.createElement(Y.a,{className:a.root},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(M.a,{className:a.table},r.a.createElement(oe.a,null,r.a.createElement(X.a,null,r.a.createElement(Q.a,{component:"th",scope:"row"},"Quantity"),r.a.createElement(Q.a,{align:"right"}," Time "))),r.a.createElement(U.a,null,n.slice(l*c,l*c+c).map(function(e){return r.a.createElement(X.a,{key:e.timestamp},r.a.createElement(Q.a,{component:"th",scope:"row"},e.quantity,"gm"),r.a.createElement(Q.a,{align:"right"},new Date(e.timestamp).toLocaleString()))}),o>0&&r.a.createElement(X.a,{style:{height:48*o}},r.a.createElement(Q.a,{colSpan:6}))),r.a.createElement(H.a,null,r.a.createElement(X.a,null,r.a.createElement(G.a,{rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:c,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ue}))))))}}]),t}(r.a.Component),pe=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:500},tableWrapper:{overflowX:"auto"}}})(me),de=a(237),he=a.n(de);var ge=Object(f.withStyles)(function(e){return{root:{width:"100%"},warning:{color:he.a[700]},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})(function(e){var t=e.classes,a=e.item,n=e.refill,i=a||{},c=i.itemName,l=i.details,o=l[0],s=o.quantity<700?"warning":"root",u="warning"===s?"Please refill the container":"Enough Quantity in the container";return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,null,r.a.createElement(k.a,{expandIcon:r.a.createElement(R.a,null)},r.a.createElement("div",{className:t.column},r.a.createElement(x.a,{className:v()(t[s],t.heading)},c)),r.a.createElement("div",{className:t.column},r.a.createElement(x.a,{className:t.secondaryHeading},o.quantity,"gm"))),r.a.createElement(w.a,{className:t.details},r.a.createElement("div",{className:t.column},r.a.createElement(pe,{data:l})),r.a.createElement("div",{className:v()(t.column,t.helper)},r.a.createElement(x.a,{variant:"caption",className:t[s]},u))),r.a.createElement(B.a,null),r.a.createElement(A.a,null,r.a.createElement(I.a,{size:"small",color:"primary",onClick:function(){return n(c)},disabled:"warning"!==s},"Refill"))))}),Ee=a(239),fe=a(67),ye=a.n(fe),be=a(106),Ce=a.n(be),ve=a(110),Oe=a.n(ve),Ne=a(108),Pe=a.n(Ne),we=a(109),je=a.n(we),ke=a(107),Se=a.n(ke),Ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={itemName:"",quantity:""},a.handleChange=function(e){a.setState(Object(Ee.a)({},e.target.name,e.target.value))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ce.a,{open:this.props.open,onClose:this.props.handleFormClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Se.a,{id:"form-dialog-title"},"Subscribe"),r.a.createElement(Pe.a,null,r.a.createElement(je.a,null,"To update or add new item in list enter the name and value in gm(max value 1000)."),r.a.createElement(ye.a,{autoFocus:!0,margin:"dense",id:"itemName",name:"itemName",label:"Item Name",type:"text",onChange:this.handleChange,fullWidth:!0}),r.a.createElement(ye.a,{margin:"dense",id:"quantity",label:"Quantity",name:"quantity",type:"number",max:1e3,onChange:this.handleChange,fullWidth:!0})),r.a.createElement(Oe.a,null,r.a.createElement(I.a,{onClick:function(t){return e.props.handleFormClose(t)},color:"secondary"},"Cancel"),r.a.createElement(I.a,{disabled:!(this.state.quantity&&this.state.itemName),onClick:function(t){return e.props.handleFormClose(t,{itemName:e.state.itemName,quantity:e.state.quantity})},color:"primary"},"Update Value")))}}]),t}(r.a.Component),Te=a(111),xe=a.n(Te),Fe=a(240),Re=a.n(Fe),_e=(a(69),a(161),"ADD_CONTAINER_REQUEST"),Ie="ADD_CONTAINER_SUCCESS",De="ADD_CONTAINER_FAILURE",Be="UPDATE_CONTAINER_REQUEST",Le="UPDATE_CONTAINER_SUCCESS",Me="UPDATE_CONTAINER_FAILURE",qe="DELETE_CONTAINER",Ue="DELETE_ALL_CONTAINERS",We="SELECT_CONTAINER",Qe=a(162),ze=a.n(Qe),He=function(){var e=localStorage.getItem("id_token");return{headers:{Authorization:e?"Bearer ".concat(e):""}}},Je=function(e,t){var a=He();return ze.a.post(e,t,a)},Ge=function(e){return new Promise(function(t,a){(function(e,t){var a=He();return ze.a.get(e,a)})(e).then(function(e){var n=e.data,r=n.success,i=n.data;if(!r)return a(e);t({container:{list:i||[]}})}).catch(function(e){a(new Error("Error: ",e))})})};function Ve(e,t){return{type:t,isFetching:!0,payload:e}}function Xe(e,t){return{type:t,isFetching:!0,payload:e}}function Ke(e,t){return{type:t,isFetching:!0,payload:e}}var Ye=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,formOpen:!1},a.refill=function(e){a.props.addContainer(e,1e3)},a.handleModal=function(e,t){a.setState({formOpen:!a.state.formOpen}),t&&t.itemName&&t.quantity&&a.props.addContainer(t)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.classes;return r.a.createElement("div",{className:n.root},r.a.createElement(b.a,{container:!0,spacing:16},a.map(function(t){return r.a.createElement(b.a,{item:!0,md:12,key:t.itemName},r.a.createElement(ge,{item:t,refill:e.refill}))})),r.a.createElement(xe.a,{color:"secondary",className:n.fab,onClick:this.handleModal},r.a.createElement(Re.a,null)),r.a.createElement(Ae,{open:this.state.formOpen,handleFormClose:this.handleModal}))}}]),t}(r.a.Component),Ze=Object(f.withStyles)(function(e){return{root:{flexGrow:1},paper:{width:"100%"},control:{padding:2*e.spacing.unit},fab:{position:"fixed",bottom:5,right:5}}})(Ye),$e=[{path:"/",name:"ContainerComponent",component:Object(m.connect)(function(e){return{selected:!!e.container.selected&&!!e.container.selected.name,list:e.container.list}},{addContainer:function(e){return function(t){return t(Ve(e,_e)),Je("/api/v1/containers/addContainer",e).then(function(e){var a=e.data,n=a.success,r=a.data,i=a.error;if(!n)return t(Xe(i,De)),Promise.reject(r);t(Ke(r,Ie))}).catch(Promise.reject)}},findContainer:function(e){return function(t){return t(Ve(e,_e)),Je("/api/v1/containers",e).then(function(e){var a=e.data,n=a.success,r=a.data,i=a.error;if(!n)return t(Xe(i,De)),Promise.reject(r);t(Ke(r,Ie))}).catch(Promise.reject)}}})(Ze)}],et=a(21),tt=a(241),at=a.n(tt),nt=a(242),rt={isFetching:!1,isEditing:!1,list:[]};var it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object.assign({},e,{isFetching:!0});case Ie:var a=e.list;return e.list.indexOf(t.payload.itemName)?a=a.map(function(e){return e.itemName===t.payload.itemName?t.payload:e}):a.push(t.payload),Object.assign({},e,{isFetching:!1,list:a});case De:case Me:return Object.assign({},e,{isFetching:!1,errorMessage:t.payload.errorMessage});case Le:return Object.assign({},e,{isFetching:!1,list:t.payload});case Be:return Object.assign({},e,{isFetching:!0});case We:return Object.assign({},e,{isFetching:!1,selected:t.payload});case qe:return Object.assign({},e,{isFetching:!1,selected:{},list:t.payload});case Ue:return Object.assign({},e,{isFetching:!1,selected:{},list:[]});default:return e}},ct=a(243),lt=Object(et.combineReducers)({container:it,form:ct.reducer}),ot=a(244),st=[nt.a,at.a],ut={},mt=Object(l.a)();Ge("/api/v1/containers").then(function(e){return Object(et.createStore)(lt,e,Object(ot.composeWithDevTools)(et.applyMiddleware.apply(void 0,st)))}).catch(function(e){return Object(et.createStore)(lt,ut,et.applyMiddleware.apply(void 0,st))}).then(function(e){c.a.render(r.a.createElement(m.Provider,{store:e},r.a.createElement(o.a,{history:mt},r.a.createElement(s.a,null,$e.map(function(e,t){return r.a.createElement(u.a,{path:e.path,key:t,component:e.component})})))),document.getElementById("root"))})}},[[304,2,1]]]);
//# sourceMappingURL=main.e8586c5e.chunk.js.map